<!doctype html>
<html lang="ar" dir="rtl">

<head>
  <meta charset="utf-8">
  <title></title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="icon" type="image/x-icon" href="pledge.ico">

  <!-- Additional Meta Tags -->
  <meta name="theme-color" content="#976735">
  <meta name="msapplication-TileColor" content="#976735">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Performance optimizations -->
  <meta name="format-detection" content="telephone=no">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-touch-fullscreen" content="yes">

  <!-- Preconnect to external domains for performance -->
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="dns-prefetch" href="https://fonts.gstatic.com">
  <meta name="mobile-web-app-capable" content="yes">

  <!-- Initialize Language and Direction from localStorage before Angular loads -->
  <script>
        (function () {
          try {
            var savedLanguage = 'ar'; // Default language

            // Only access localStorage if available
            if (typeof localStorage !== 'undefined' && typeof Storage !== 'undefined') {
              savedLanguage = localStorage.getItem('lang-store') || 'ar';
            }

            // Ensure we have valid language
            if (savedLanguage !== 'ar' && savedLanguage !== 'en') {
              savedLanguage = 'ar';
            }

            var html = document.documentElement;
            var body = document.body;

            if (savedLanguage === 'ar') {
              html.setAttribute('dir', 'rtl');
              html.setAttribute('lang', 'ar');
              html.classList.add('rtl');
              html.classList.remove('ltr');
              if (body) {
                body.classList.add('rtl');
                body.classList.remove('ltr');
              }
            } else {
              html.setAttribute('dir', 'ltr');
              html.setAttribute('lang', 'en');
              html.classList.add('ltr');
              html.classList.remove('rtl');
              if (body) {
                body.classList.add('ltr');
                body.classList.remove('ltr');
              }
            }

            // Store the applied language for Angular to use
            if (typeof localStorage !== 'undefined' && typeof Storage !== 'undefined') {
              localStorage.setItem('lang-store', savedLanguage);
            }

          } catch (e) {
            // Fallback to Arabic if localStorage fails
            if (typeof document !== 'undefined') {
              var html = document.documentElement;
              var body = document.body;
              html.setAttribute('dir', 'rtl');
              html.setAttribute('lang', 'ar');
              html.classList.add('rtl');
              html.classList.remove('ltr');
              if (body) {
                body.classList.add('rtl');
                body.classList.remove('ltr');
              }
            }
          }
        })();
  </script>
  
  <!-- Preload critical resources -->
  <link rel="preload" href="/images/logo.png" as="image" type="image/png">
  <link rel="dns-prefetch" href="https://www.googletagmanager.com">
</head>

<body>
  <div class="loading-overlay" id="loading-overlay">
    <div class="loading-container">
      <div class="logo-container">
        <div class="loading-logo">
          <img src="/images/logo.png" alt=" Logo" class="loading-logo-image animate-pulse">
        </div>
      </div>
    </div>
  </div>
  <app-root></app-root>
</body>

</html>