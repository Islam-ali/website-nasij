@if (!loading) {
  @for (layout of heroLayouts; track layout._id) {
    <section class="pt-4 pb-10 bg-white dark:bg-gray-900 transition-colors duration-300">
      <div class="max-w-[1922px] mx-auto px-4">
        <!-- Section Header -->
        @if (layout.sectionTitle?.en || layout.sectionSubtitle?.en || layout.description?.en) {
          <div class="text-center mb-16 max-w-2xl mx-auto">
            @if (layout.sectionTitle) {
              <span class="text-primary-400 dark:text-primary-400 font-medium transition-colors duration-300">
                <span class="block">{{ layout.sectionTitle | multiLanguage }}</span>
              </span>
            }
            @if (layout.sectionSubtitle) {
              <h2 class="text-4xl font-bold text-gray-900 dark:text-white mt-2 mb-4 transition-colors duration-300">
                <span class="block">{{ layout.sectionSubtitle | multiLanguage }}</span>
              </h2>
            }
            @if (layout.description) {
              <p class="text-gray-600 dark:text-gray-300 max-w-2xl mx-auto transition-colors duration-300">
                <span class="block">{{ layout.description | multiLanguage }}</span>
              </p>
            }
          </div>
        }

        <!-- Hero Grid -->
        <div class="flex justify-center">
          <div 
            class="grid w-full {{ getGridContainerClasses(layout.gridConfig) }}"
            [ngStyle]="getGridContainerStyles(layout.gridConfig)">
            
            @for (item of layout.items; track $index; let i = $index) {
              @if (item.isActive !== false) {
              <div 
                class="group relative overflow-hidden rounded-2xl border border-gray-200 dark:border-gray-800 transition-all duration-500 w-full h-full {{ getItemClasses(layout.gridConfig, i) }}"
                [class.cursor-pointer]="item.buttonLink && !item.video"
                (click)="item.buttonLink && !item.video && onButtonClick(item.buttonLink)">
                
                <!-- Video or Image -->
                @if (item.video) {
                  <div class="relative w-full h-full" [class.cursor-pointer]="item.videoAutoplay === false">
                    <video 
                      #videoPlayer
                      [src]="domain + item.video.filePath" 
                      class="w-full h-full object-contain group-hover:scale-110 transition-transform duration-700"
                      [autoplay]="item.videoAutoplay !== false"
                      [muted]="true"
                      [loop]="true"
                      playsinline
                      (click)="item.videoAutoplay === false && toggleVideoPlay(videoPlayer); $event.stopPropagation()">
                      Your browser does not support the video tag.
                    </video>
                    @if (item.videoAutoplay === false) {
                      <div 
                        class="absolute inset-0 flex items-center justify-center bg-black/30 hover:bg-black/40 transition-colors cursor-pointer z-10"
                        (click)="toggleVideoPlay(videoPlayer); $event.stopPropagation()">
                        <div class="w-16 h-16 rounded-full bg-white/90 hover:bg-white flex items-center justify-center shadow-lg transition-transform hover:scale-110">
                          <i class="pi pi-play text-gray-900 text-2xl ml-1"></i>
                        </div>
                      </div>
                    }
                  </div>
                } @else if (item.image) {
                  <img 
                    [src]="item.image.filePath" 
                    [alt]="item.image.fileName" 
                    fallback
                    class="w-full h-full object-contain group-hover:scale-110 transition-transform duration-700">
                }
                
                <!-- Content -->
                @if (item?.title?.en || item?.description?.en || item?.buttonText?.en) {
                <div class="absolute bottom-0 left-0 right-0 p-8 bg-gradient-to-t from-black/70 via-black/20 to-transparent">
                  @if (item.title) {
                    <h3 class="text-3xl font-bold text-white mb-4 transition-colors duration-300">
                      <span class="block">{{ item.title | multiLanguage }}</span>
                    </h3>
                  }
                  
                  @if (item.description) {
                    <p class="text-white/90 dark:text-white/80 mb-6 transition-colors duration-300">
                      <span class="block">{{ item.description | multiLanguage }}</span>
                    </p>
                  }
                  
                  @if (item.buttonText && item.buttonLink) {
                    <button 
                      (click)="onButtonClick(item.buttonLink); $event.stopPropagation()"
                      class="bg-white dark:bg-gray-100 text-gray-900 dark:text-gray-800 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 dark:hover:bg-gray-200 transition-all duration-300 hover:scale-105 z-30 relative">
                      <span class="block">{{ item.buttonText | multiLanguage }}</span>
                    </button>
                  }
                </div>
                }
              </div>
              }
            }
          </div>
        </div>
      </div>
    </section>
  }
}

@if (loading) {
  <div class="flex justify-center items-center py-20">
    <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"></div>
  </div>
}


